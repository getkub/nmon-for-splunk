<form stylesheet="ui_simple.css,hide_timeindicator.css,table_data_bar.css" script="autodiscover.js,table_data_bar.js">
    <label>NMON Analyser LINUX</label>

    <!-- Information panel -->

    <row rejects="$hostname$">
        <panel>
            <html>

                <div class="imgheader2">
                    <img src="../../static/app/nmon/icons/grey_theme/info.png" alt="Info"/>

                    <h4>Nmon Analyser interfaces have been designed for focused time ranges, very large time ranges may require time to be fully processed</h4>
                    <h4>For long time analysis, please consider using metric dedicated interfaces available from App home pages</h4>

                </div>

            </html>
        </panel>
    </row>

    <!-- Selection panel -->

    <row>
        <panel>

            <input type="time" token="timerange" searchWhenChanged="true">
                <label>Time Range:</label>
                <default>
                    <earliestTime>-24h</earliestTime>
                    <latestTime>now</latestTime>
                </default>
            </input>

            <input type="dropdown" token="osfilter" searchWhenChanged="true">
                <label>Filter OS Type:</label>
                <default>Linux</default>
                <prefix>CPU.OStype="</prefix>
                <suffix>"</suffix>
                <choice value="*">Any OS</choice>
                <choice value="Linux">Linux</choice>
            </input>

            <input type="dropdown" token="frameID" searchWhenChanged="true">
                <label>Frame IDs:</label>
                <!-- Populating Data Model Search -->
                <search id="frameIDSearch">
                    <query>| tstats count AS count from datamodel=NMON_Data_CPU where (nodename = CPU) (CPU.frameID="*") ($osfilter$)
groupby "CPU.frameID", "CPU.hostname" prestats=true
| stats dedup_splitvals=t count AS count by "CPU.frameID"
| rename "CPU.frameID" AS "frameID" | fields frameID | sort frameID</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                </search>
                <choice value="*">Any</choice>
                <default>*</default>
                <fieldForLabel>frameID</fieldForLabel>
                <fieldForValue>frameID</fieldForValue>
            </input>

            <input type="text" token="hostname-prefilter" searchWhenChanged="true">
                <label>Optional: Filter hosts populating</label>
                <default>*</default>
            </input>

            <input type="dropdown" token="hostname" searchWhenChanged="true">
                <label>Host:</label>
                <!-- Populating Data Model Search -->
                <search id="baseSearch">
                    <query>| tstats count AS count from datamodel=NMON_Data_CPU where (nodename = CPU) (CPU.frameID=$frameID$) (CPU.hostname=$hostname-prefilter$) ($osfilter$)
groupby "CPU.hostname" prestats=true
| stats dedup_splitvals=t count AS count by "CPU.hostname"
| rename "CPU.hostname" AS hostname
| fields hostname | sort hostname
                    </query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                </search>
                <fieldForLabel>hostname</fieldForLabel>
                <fieldForValue>hostname</fieldForValue>
                <prefix>hostname="</prefix>
                <suffix>"</suffix>
                <!--
                Reset the form token changed
                -->
                <change>
                    <unset token="form.is_LPAR_input"></unset>
                </change>
            </input>

            <input type="dropdown" token="span" searchWhenChanged="true">
                <label>Span:</label>
                <default>`inline_customspan`</default>
                <choice value="`inline_customspan`">auto</choice>
                <choice value="span=1m">1 minute</choice>
                <choice value="span=2m">2 minutes</choice>
                <choice value="span=3m">3 minutes</choice>
                <choice value="span=4m">4 minutes</choice>
                <choice value="span=5m">5 minutes</choice>
                <choice value="span=10m">10 minutes</choice>
                <choice value="span=15m">15 minutes</choice>
                <choice value="span=30m">30 minutes</choice>
                <choice value="span=1h">1 hour</choice>
                <choice value="span=2h">2 hours</choice>
                <choice value="span=12h">12 hours</choice>
                <choice value="span=4h">4 hours</choice>
                <choice value="span=1d">1 day</choice>
                <choice value="span=2d">2 days</choice>
                <choice value="span=1w">7 days</choice>
                <choice value="span=1mon">1 month</choice>
            </input>

        </panel>
    </row>

    <!-- Help the user -->

    <row rejects="$hostname$">
        <panel>
            <html>
                <p style="color:red;text-align:center;font-size:14px"> - - - - - - - - - - ACTION REQUIRED: please select your server name(s) in the host selector above - - - - - - - - - -</p>
            </html>
        </panel>
    </row>

    <!-- Configuration Search uses the nmon_inventory data over the report -->

    <search ref="NMON Inventory Linux" id="configSearch">
    </search>

    <row>
        <panel>

            <html>
                <div style="text-align: center;">
                    <h1>SYSTEM SUMMARY OVERVIEW</h1>
                </div>
            </html>

            <table rejects="$show_null_config$">
                <title></title>
                <search base="configSearch">
                    <query>search $hostname$
| eval Linux_memory_GB = round((Linux_memory_MB/1024),2)
| eval Linux_swap_GB = round((Linux_swap_MB/1024),2)
| fields cpu_cores, Processor, Linux_memory_GB, Linux_swap_GB, Linux_distribution, Linux_kernelversion, nmon_version, uptime_duration, system_startup_date
| rename cpu_cores AS "Number of CPUs (logical CPUs)", Linux_memory_GB AS "Physical Memory (GB)", Linux_swap_GB AS "Swap Memory (GB)", Linux_distribution AS "Linux distribution", Linux_kernelversion AS "Kernel version", nmon_version AS "Version nmon", uptime_duration AS "Uptime duration (dd:HH:MM:SS)", system_startup_date AS "Last Known System startup date"
                    </query>
                    <!-- Progress event has access to job properties only -->
                    <progress>
                        <condition match="'job.resultCount' == 0">
                            <set token="show_null_config">True</set>
                        </condition>
                        <condition>
                            <unset token="show_null_config"/>
                        </condition>
                    </progress>
                </search>
            </table>
            <html depends="$show_null_config$">
                <p style="color:blue;margin-left:30px;font-size:14px">SYSTEM SUMMARY OVERVIEW Search returned no results, The nmon inventory data may not be available yet for this host, manually run the Nmon Inventory Generation report or wait for the auto update. (occurs every hour by default)</p>
            </html>

        </panel>
    </row>

    <row>
        <panel>

            <input type="dropdown" token="statsmode" searchWhenChanged="true">
                <label></label>
                <default>max</default>
                <choice value="max">max</choice>
                <choice value="avg">avg</choice>
            </input>

            <chart>
                <title>CPU Usage</title>
                <search>
                    <query>| tstats
max("CPU.lpar_vp_usage") AS vp_usage max("CPU.cpu_PCT") AS pct_usage
from datamodel=NMON_Data_CPU where (nodename = CPU) (CPU.type="CPU_ALL" OR CPU.type="LPAR") (CPU.$hostname$) groupby _time, "CPU.hostname" prestats=true span=1m
| bucket _time span=1m
| stats dedup_splitvals=t
max("CPU.lpar_vp_usage") AS vp_usage max("CPU.cpu_PCT") AS pct_usage by _time, "CPU.hostname"
| eval usage=if(isnotnull(vp_usage), vp_usage, pct_usage)
| timechart $span$ $statsmode$(usage) AS $statsmode$_cpu_usage</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisTitleY.text">CPU Usage</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats
max("CPU.lpar_vp_usage") AS vp_usage max("CPU.cpu_PCT") AS pct_usage
from datamodel=NMON_Data_CPU where (nodename = CPU) (CPU.type="CPU_ALL" OR CPU.type="LPAR") (CPU.$hostname$) groupby _time, "CPU.hostname" prestats=true span=1m
| bucket _time span=1m
| stats dedup_splitvals=t
max("CPU.lpar_vp_usage") AS vp_usage max("CPU.cpu_PCT") AS pct_usage by _time, "CPU.hostname"
| eval usage=if(isnotnull(vp_usage), vp_usage, pct_usage)
| timechart span=1m $statsmode$(usage) AS $statsmode$_usage</link>
                </drilldown>
            </chart>

        </panel>
        <panel>

            <input type="dropdown" token="statsmode" searchWhenChanged="true">
                <label></label>
                <default>max</default>
                <choice value="max">max</choice>
                <choice value="avg">avg</choice>
            </input>

            <chart>
                <title>I/O Per second</title>
                <search>
                    <query>| tstats max("DISKXFER.value") AS DISKXFER.value from datamodel=NMON_Data_DISKXFER
where (nodename = DISKXFER) (DISKXFER.$hostname$)
groupby _time, "DISKXFER.hostname", "DISKXFER.device" prestats=true span=1m
| bucket _time span=1m
| stats dedup_splitvals=t max("DISKXFER.value") AS DISKXFER.value by _time, "DISKXFER.hostname", "DISKXFER.device"
| rename DISKXFER.hostname AS hostname, DISKXFER.device AS device, DISKXFER.value AS value
| stats sum(value) As value by _time
| timechart $span$ $statsmode$(value) AS $statsmode$_iops_usage</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisTitleY.text">I/O per Sec</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats max("DISKXFER.value") AS DISKXFER.value from datamodel=NMON_Data_DISKXFER
where (nodename = DISKXFER) (DISKXFER.$hostname$)
groupby _time, "DISKXFER.hostname", "DISKXFER.device" prestats=true span=1m
| bucket _time span=1m
| stats dedup_splitvals=t max("DISKXFER.value") AS DISKXFER.value by _time, "DISKXFER.hostname", "DISKXFER.device"
| rename DISKXFER.hostname AS hostname, DISKXFER.device AS device, DISKXFER.value AS value
| stats sum(value) As value by _time
| timechart span=1m $statsmode$(value) AS $statsmode$_iops_usage</link>
                </drilldown>
            </chart>

        </panel>
    </row>


    <row>
        <html>
            <div style="text-align: center;">
                <img src="../../static/app/nmon/icons/grey_theme/cpu.png" alt="CPU"/>
                <h1>CPU Usage Statistics</h1>
            </div>
        </html>
    </row>

    <search id="CPU_ALL">
        <query>| tstats `CPU_ALL(max)` from datamodel=NMON_Data_CPU where (nodename = CPU.CPU_ALL) (CPU.$hostname$)
groupby _time, "CPU.hostname" prestats=true span=1m
| stats dedup_splitvals=t `CPU_ALL(max)` by _time, "CPU.hostname"
| timechart $span$
avg("CPU.Idle_PCT") AS "Idle %",
avg("CPU.Sys_PCT") AS "Sys %",
avg("CPU.User_PCT") AS "User %",
avg("CPU.Wait_PCT") AS "Wait %",
avg("CPU.cpu_PCT") AS "CPU %"</query>
        <earliest>$timerange.earliest$</earliest>
        <latest>$timerange.latest$</latest>
    </search>

    <row>
        <panel>

            <input type="link" token="cpu_all_linkinput">
                <label></label>
                <choice value="cpu_all_chart1">CPU_ALL, % by category</choice>
                <choice value="cpu_all_chart2">CPU_ALL, % global usage</choice>
                <choice value="cpu_nn_chart1">CPUnn, % global usage by processor</choice>
                <default>cpu_all_chart1</default>
                <change>
                    <condition value="cpu_all_chart1">
                        <set token="cpu_all_chart1">true</set>
                        <unset token="cpu_all_chart2"></unset>
                        <unset token="cpu_nn_chart1"></unset>
                    </condition>
                    <condition value="cpu_all_chart2">
                        <set token="cpu_all_chart2">true</set>
                        <unset token="cpu_all_chart1"></unset>
                        <unset token="cpu_nn_chart1"></unset>
                    </condition>
                    <condition value="cpu_nn_chart1">
                        <set token="cpu_nn_chart1">true</set>
                        <unset token="cpu_all_chart1"></unset>
                        <unset token="cpu_all_chart2"></unset>
                    </condition>
                </change>
            </input>

            <chart depends="$cpu_all_chart1$">
                <title></title>
                <search base="CPU_ALL">
                    <query>fields _time,"Idle %","Sys %","User %","Wait %"</query>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">area</option>
                <option name="charting.chart.nullValueMode">connect</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">stacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisTitleY.text">% of CPUs utilization</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisY.maximumNumber">100</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `CPU_ALL(max)` from datamodel=NMON_Data_CPU where (nodename = CPU.CPU_ALL) (CPU.$hostname$)
groupby _time, "CPU.hostname" prestats=true span=1m
| stats dedup_splitvals=t `CPU_ALL(max)` by _time, "CPU.hostname"
| timechart span=1m
avg("CPU.Idle_PCT") AS "Idle_PCT",
avg("CPU.Sys_PCT") AS "Sys_PCT",
avg("CPU.User_PCT") AS "User_PCT",
avg("CPU.Wait_PCT") AS "Wait_PCT"</link>
                </drilldown>
            </chart>

            <chart depends="$cpu_all_chart2$">
                <title></title>
                <search base="CPU_ALL">
                    <query>fields _time,"CPU %"</query>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">stacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisTitleY.text">% of CPUs utilization</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisY.maximumNumber">100</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `CPU_ALL(max)` from datamodel=NMON_Data_CPU where (nodename = CPU.CPU_ALL) (CPU.$hostname$)
groupby _time, "CPU.hostname" prestats=true span=1m
| stats dedup_splitvals=t `CPU_ALL(max)` by _time, "CPU.hostname"
| timechart span=1m
avg("CPU.cpu_PCT") AS "CPU_PCT"</link>
                </drilldown>
            </chart>

            <chart depends="$cpu_nn_chart1$">
                <title></title>
                <search>
                    <query>| tstats `CPU_ALL(max)` from datamodel=NMON_Data_CPU where (nodename = CPU.CPUnn) (CPU.$hostname$) groupby _time, "CPU.hostname", "CPU.CPUnn.logical_core" prestats=true span=1m
| stats dedup_splitvals=t `CPU_ALL(max)` by _time, "CPU.hostname", "CPU.CPUnn.logical_core"
| fields _time,CPU.hostname,CPU.CPUnn.logical_core,CPU.cpu_PCT
| timechart $span$ useother=f limit=0 avg("CPU.cpu_PCT") AS cpu_PCT by "CPU.CPUnn.logical_core"</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">stacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisTitleY.text">% of CPU utilization</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisY.maximumNumber">100</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `CPU_ALL(max)` from datamodel=NMON_Data_CPU where (nodename = CPU.CPUnn) (CPU.$hostname$)
groupby _time, "CPU.hostname", "CPU.CPUnn.logical_core" prestats=true span=1m
| stats dedup_splitvals=t `CPU_ALL(max)` by _time, "CPU.hostname", "CPU.CPUnn.logical_core"
| timechart span=1m
avg("CPU.Idle_PCT") AS "Idle_PCT",
avg("CPU.Sys_PCT") AS "Sys_PCT",
avg("CPU.User_PCT") AS "User_PCT",
avg("CPU.Wait_PCT") AS "Wait_PCT" by "CPU.CPUnn.logical_core"</link>
                </drilldown>
            </chart>

        </panel>
    </row>


    <!-- LPAR management: Only show the LPAR is a partition -->

    <row depends="$is_LPAR_input_hidden$">
        <panel>
            <input type="dropdown" token="is_LPAR_input" searchWhenChanged="true">
                <label>Is LPAR:</label>
                <search>
                    <query>| tstats sum("CPU.is_CPU_ALL") AS CPU_ALL sum("CPU.is_LPAR_Linux") AS LPAR from datamodel=NMON_Data_CPU where (nodename = CPU) (CPU.$hostname$) groupby "CPU.hostname" prestats=true | stats dedup_splitvals=t sum("CPU.is_CPU_ALL") AS CPU_ALL sum("CPU.is_LPAR_Linux") AS LPAR by "CPU.hostname" | sort limit=0 "CPU.hostname" | fields - _span | rename "CPU.hostname" AS hostname | fields hostname, CPU_ALL, LPAR
| eval is_LPAR=if(LPAR>0, "True", "False") | fields is_LPAR</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                </search>
                <selectFirstChoice>true</selectFirstChoice>
                <fieldForLabel>is_LPAR</fieldForLabel>
                <fieldForValue>is_LPAR</fieldForValue>
                <change>
                    <condition value="True">
                        <set token="is_LPAR">_time,*</set>
                    </condition>
                    <condition value="False">
                        <unset token="is_LPAR"></unset>
                    </condition>
                </change>
            </input>
        </panel>
    </row>

    <row depends="$is_LPAR$">
        <panel>

            <input type="link" token="lpar_linkinput">
                <label></label>
                <choice value="lpar_chart1">LPAR, PowerLinux only, Partition statistics</choice>
                <choice value="lpar_chart2">LPAR, PowerLinux only, Pool statistics</choice>
                <default>lpar_chart1</default>
                <change>
                    <condition value="lpar_chart1">
                        <set token="lpar_chart1">true</set>
                        <unset token="lpar_chart2"></unset>
                    </condition>
                    <condition value="lpar_chart2">
                        <set token="lpar_chart2">true</set>
                        <unset token="lpar_chart1"></unset>
                    </condition>
                </change>
            </input>

            <chart depends="$lpar_chart1$">
                <title></title>
                <search>
                    <query>| tstats max("CPU.lpar_vp_usage") AS lpar_vp_usage max("CPU.LPAR_Linux.partition_active_processors") AS partition_active_processors
max("CPU.LPAR_Linux.partition_entitled_capacity") AS partition_entitled_capacity
from datamodel=NMON_Data_CPU where (nodename = CPU.LPAR_Linux) (CPU.$hostname$)
groupby _time, "CPU.hostname", "CPU.frameID" prestats=true span=1m
| bucket _time span=1m
| stats dedup_splitvals=t max("CPU.lpar_vp_usage") AS lpar_vp_usage max("CPU.LPAR_Linux.partition_active_processors") AS partition_active_processors
max("CPU.LPAR_Linux.partition_entitled_capacity") AS partition_entitled_capacity by _time, "CPU.hostname", "CPU.frameID"
| fields $is_LPAR$
| timechart `inline_customspan` useother=f limit=0 max(lpar_vp_usage) AS lpar_vp_usage max(partition_entitled_capacity) As partition_entitled_capacity, max(partition_active_processors) As partition_active_processors by "CPU.hostname"</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">stacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisTitleY.text">VirtualCPUs</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats max("CPU.lpar_vp_usage") AS lpar_vp_usage max("CPU.LPAR_Linux.partition_active_processors") AS partition_active_processors
max("CPU.LPAR_Linux.partition_entitled_capacity") AS partition_entitled_capacity
from datamodel=NMON_Data_CPU where (nodename = CPU.LPAR_Linux) (CPU.$hostname$)
groupby _time, "CPU.hostname", "CPU.frameID" prestats=true span=1m
| bucket _time span=1m
| stats dedup_splitvals=t max("CPU.lpar_vp_usage") AS lpar_vp_usage max("CPU.LPAR_Linux.partition_active_processors") AS partition_active_processors
max("CPU.LPAR_Linux.partition_entitled_capacity") AS partition_entitled_capacity by _time, "CPU.hostname", "CPU.frameID"
| timechart span=1m useother=f limit=0 max(lpar_vp_usage) AS lpar_vp_usage max(partition_entitled_capacity) As partition_entitled_capacity, max(partition_active_processors) As partition_active_processors by "CPU.hostname"</link>
                </drilldown>
            </chart>

            <chart depends="$lpar_chart2$">
                <title></title>
                <search>
                    <query>| tstats max("CPU.lpar_pool_capacity") AS "CPU.lpar_pool_capacity" max("CPU.lpar_pool_vp_usage") AS lpar_pool_vp_usage
from datamodel=NMON_Data_CPU where (nodename = CPU.LPAR_Linux.LPAR_Linux_Pool) (CPU.$hostname$)
groupby _time, "CPU.frameID", "CPU.hostname" prestats=true span=1m
| stats dedup_splitvals=t max("CPU.lpar_pool_capacity") AS "CPU.lpar_pool_capacity" max("CPU.lpar_pool_vp_usage") AS lpar_pool_vp_usage by _time, "CPU.frameID", "CPU.hostname"
| fields $is_LPAR$
| timechart `inline_customspan` useother=f limit=0 max(lpar_pool_vp_usage) As lpar_pool_vp_usage max(CPU.lpar_pool_capacity) AS lpar_pool_capacity by "CPU.hostname"</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">stacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisTitleY.text">VirtualCPUs</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats max("CPU.lpar_pool_capacity") AS "CPU.lpar_pool_capacity" max("CPU.lpar_pool_vp_usage") AS lpar_pool_vp_usage
from datamodel=NMON_Data_CPU where (nodename = CPU.LPAR_Linux.LPAR_Linux_Pool) (CPU.$hostname$)
groupby _time, "CPU.frameID", "CPU.hostname" prestats=true span=1m
| stats dedup_splitvals=t max("CPU.lpar_pool_capacity") AS "CPU.lpar_pool_capacity" max("CPU.lpar_pool_vp_usage") AS lpar_pool_vp_usage by _time, "CPU.frameID", "CPU.hostname"
| timechart span=1m useother=f limit=0 max(lpar_pool_vp_usage) As lpar_pool_vp_usage max(CPU.lpar_pool_capacity) AS lpar_pool_capacity by "CPU.hostname"</link>
                </drilldown>
            </chart>

        </panel>
    </row>

    <row>
        <html>
            <div style="text-align: center;">
                <img src="../../static/app/nmon/icons/grey_theme/process.png" alt="Process"/>
                <h1>Process, Kernel, I/O Statistics</h1>
            </div>
        </html>
    </row>

    <row>
        <panel>

            <input type="link" token="top_linkinput">
                <label></label>
                <choice value="top_chart1">TOP, CPU Usage per logical core</choice>
                <choice value="top_chart2">TOP, Memory Usage per command invocation</choice>
                <choice value="top_chart3">TOP, Virtual Memory Usage per command invocation</choice>
                <choice value="top_chart4">TOP, MinorFault per Command invocation</choice>
                <choice value="top_chart5">TOP, MajorFault per Command invocation</choice>
                <choice value="top_chart6">TOP, Shared library pages per Command invocation</choice>
                <default>top_chart1</default>
                <change>
                    <condition value="top_chart1">
                        <set token="top_chart1">true</set>
                        <unset token="top_chart2"></unset>
                        <unset token="top_chart3"></unset>
                        <unset token="top_chart4"></unset>
                        <unset token="top_chart5"></unset>
                        <unset token="top_chart6"></unset>
                    </condition>
                    <condition value="top_chart2">
                        <set token="top_chart2">true</set>
                        <unset token="top_chart1"></unset>
                        <unset token="top_chart3"></unset>
                        <unset token="top_chart4"></unset>
                        <unset token="top_chart5"></unset>
                        <unset token="top_chart6"></unset>
                    </condition>
                    <condition value="top_chart3">
                        <set token="top_chart3">true</set>
                        <unset token="top_chart2"></unset>
                        <unset token="top_chart1"></unset>
                        <unset token="top_chart4"></unset>
                        <unset token="top_chart5"></unset>
                        <unset token="top_chart6"></unset>
                    </condition>
                    <condition value="top_chart4">
                        <set token="top_chart4">true</set>
                        <unset token="top_chart2"></unset>
                        <unset token="top_chart3"></unset>
                        <unset token="top_chart1"></unset>
                        <unset token="top_chart5"></unset>
                        <unset token="top_chart6"></unset>
                    </condition>
                    <condition value="top_chart5">
                        <set token="top_chart5">true</set>
                        <unset token="top_chart2"></unset>
                        <unset token="top_chart3"></unset>
                        <unset token="top_chart4"></unset>
                        <unset token="top_chart1"></unset>
                        <unset token="top_chart6"></unset>
                    </condition>
                    <condition value="top_chart6">
                        <set token="top_chart6">true</set>
                        <unset token="top_chart2"></unset>
                        <unset token="top_chart3"></unset>
                        <unset token="top_chart4"></unset>
                        <unset token="top_chart5"></unset>
                        <unset token="top_chart1"></unset>
                    </condition>
                </change>
            </input>

            <chart depends="$top_chart1$" rejects="$show_null_top$">
                <title></title>
                <search>
                    <query>| tstats max("TOP_Linux.pct_CPU") AS pct_CPU from datamodel=NMON_Data_TOP.TOP_Linux
where (nodename = TOP_Linux) (TOP_Linux.$hostname$) groupby _time, "TOP_Linux.hostname", "TOP_Linux.logical_cpus", "TOP_Linux.Command", "TOP_Linux.PID" prestats=true span=1m
| stats dedup_splitvals=t max("TOP_Linux.pct_CPU") AS pct_CPU by _time, "TOP_Linux.hostname", "TOP_Linux.logical_cpus", "TOP_Linux.Command", "TOP_Linux.PID"
| rename "TOP_Linux.hostname" AS hostname "TOP_Linux.logical_cpus" AS logical_cpus "TOP_Linux.Command" AS Command "TOP_Linux.PID" AS PID
| eval limit=(logical_cpus*100) | where (pct_CPU&lt;=limit)
| stats sum(pct_CPU) As pct_CPU,last(logical_cpus) As logical_cpus by _time,Command
| eval usage_per_core=(pct_CPU/100)
| stats sum(usage_per_core) As usage_per_core by _time,Command
| timechart $span$ useother=f limit=0 max(usage_per_core) as "CPU Usage per core" by Command</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                    <!-- Progress event has access to job properties only -->
                    <progress>
                        <condition match="'job.resultCount' == 0">
                            <set token="show_null_top">True</set>
                        </condition>
                        <condition>
                            <unset token="show_null_top"/>
                        </condition>
                    </progress>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">area</option>
                <option name="charting.chart.nullValueMode">stacked</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">stacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Logical Core</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats max("TOP_Linux.pct_CPU") AS pct_CPU from datamodel=NMON_Data_TOP.TOP_Linux
where (nodename = TOP_Linux) (TOP_Linux.$hostname$) groupby _time, "TOP_Linux.hostname", "TOP_Linux.logical_cpus", "TOP_Linux.Command", "TOP_Linux.PID" prestats=true span=1m
| stats dedup_splitvals=t max("TOP_Linux.pct_CPU") AS pct_CPU by _time, "TOP_Linux.hostname", "TOP_Linux.logical_cpus", "TOP_Linux.Command", "TOP_Linux.PID"
| rename "TOP_Linux.hostname" AS hostname "TOP_Linux.logical_cpus" AS logical_cpus "TOP_Linux.Command" AS Command "TOP_Linux.PID" AS PID
| eval limit=(logical_cpus*100) | where (pct_CPU&lt;=limit)
| stats sum(pct_CPU) As pct_CPU,last(logical_cpus) As logical_cpus by _time,Command
| eval usage_per_core=(pct_CPU/100)
| stats sum(usage_per_core) As usage_per_core by _time,Command
| timechart span=1m useother=f limit=0 max(usage_per_core) as "CPU Usage per core" by Command</link>
                </drilldown>
            </chart>

            <chart depends="$top_chart2$" rejects="$show_null_top$">
                <title></title>
                <search>
                    <query>| tstats max("TOP_Linux.ResSet") AS ResSet from datamodel=NMON_Data_TOP.TOP_Linux
where (nodename = TOP_Linux) (TOP_Linux.$hostname$) groupby _time, "TOP_Linux.hostname", "TOP_Linux.logical_cpus", "TOP_Linux.Command", "TOP_Linux.PID" prestats=true span=1m
| stats dedup_splitvals=t max("TOP_Linux.ResSet") AS ResSet by _time, "TOP_Linux.hostname", "TOP_Linux.logical_cpus", "TOP_Linux.Command", "TOP_Linux.PID"
| rename "TOP_Linux.hostname" AS hostname "TOP_Linux.logical_cpus" AS logical_cpus "TOP_Linux.Command" AS Command "TOP_Linux.PID" AS PID
| eval Used_Mem_MB=((ResSet)/1024)
| stats sum(Used_Mem_MB) As Used_Mem_MB by _time,Command
| timechart $span$ useother=f limit=0 max(Used_Mem_MB) as "Used_Memory" by Command</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                    <!-- Progress event has access to job properties only -->
                    <progress>
                        <condition match="'job.resultCount' == 0">
                            <set token="show_null_top">True</set>
                        </condition>
                        <condition>
                            <unset token="show_null_top"/>
                        </condition>
                    </progress>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">area</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">stacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Megabytes (MB)</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats max("TOP_Linux.ResSet") AS ResSet from datamodel=NMON_Data_TOP.TOP_Linux
where (nodename = TOP_Linux) (TOP_Linux.$hostname$) groupby _time, "TOP_Linux.hostname", "TOP_Linux.logical_cpus", "TOP_Linux.Command", "TOP_Linux.PID" prestats=true span=1m
| stats dedup_splitvals=t max("TOP_Linux.ResSet") AS ResSet by _time, "TOP_Linux.hostname", "TOP_Linux.logical_cpus", "TOP_Linux.Command", "TOP_Linux.PID"
| rename "TOP_Linux.hostname" AS hostname "TOP_Linux.logical_cpus" AS logical_cpus "TOP_Linux.Command" AS Command "TOP_Linux.PID" AS PID
| eval Used_Mem_MB=((ResSet)/1024)
| stats sum(Used_Mem_MB) As Used_Mem_MB by _time,Command
| timechart span=1m useother=f limit=0 max(Used_Mem_MB) as "Used_Memory" by Command</link>
                </drilldown>
            </chart>

            <chart depends="$top_chart3$" rejects="$show_null_top$">
                <title></title>
                <search>
                    <query>| tstats max("TOP_Linux.Size") AS Size from datamodel=NMON_Data_TOP.TOP_Linux
where (nodename = TOP_Linux) (TOP_Linux.$hostname$) groupby _time, "TOP_Linux.hostname", "TOP_Linux.logical_cpus", "TOP_Linux.Command", "TOP_Linux.PID" prestats=true span=1m
| stats dedup_splitvals=t max("TOP_Linux.Size") AS Size by _time, "TOP_Linux.hostname", "TOP_Linux.logical_cpus", "TOP_Linux.Command", "TOP_Linux.PID"
| rename "TOP_Linux.hostname" AS hostname "TOP_Linux.logical_cpus" AS logical_cpus "TOP_Linux.Command" AS Command "TOP_Linux.PID" AS PID
| stats sum(Size) As Size by _time,Command
| eval Virtual_Mem_MB=(Size/1024)
| timechart $span$ useother=f limit=0 max(Virtual_Mem_MB) as "Virtual_Mem_MB" by Command</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                    <!-- Progress event has access to job properties only -->
                    <progress>
                        <condition match="'job.resultCount' == 0">
                            <set token="show_null_top">True</set>
                        </condition>
                        <condition>
                            <unset token="show_null_top"/>
                        </condition>
                    </progress>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">area</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">stacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Megabytes (MB)</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats max("TOP_Linux.Size") AS Size from datamodel=NMON_Data_TOP.TOP_Linux
where (nodename = TOP_Linux) (TOP_Linux.$hostname$) groupby _time, "TOP_Linux.hostname", "TOP_Linux.logical_cpus", "TOP_Linux.Command", "TOP_Linux.PID" prestats=true span=1m
| stats dedup_splitvals=t max("TOP_Linux.Size") AS Size by _time, "TOP_Linux.hostname", "TOP_Linux.logical_cpus", "TOP_Linux.Command", "TOP_Linux.PID"
| rename "TOP_Linux.hostname" AS hostname "TOP_Linux.logical_cpus" AS logical_cpus "TOP_Linux.Command" AS Command "TOP_Linux.PID" AS PID
| stats sum(Size) As Size by _time,Command
| eval Virtual_Mem_MB=(Size/1024)
| timechart span=1m useother=f limit=0 max(Virtual_Mem_MB) as "Virtual_Mem_MB" by Command</link>
                </drilldown>
            </chart>

            <chart depends="$top_chart4$" rejects="$show_null_top$">
                <title></title>
                <search>
                    <query>| tstats max("TOP_Linux.MinorFault") AS MinorFault from datamodel=NMON_Data_TOP.TOP_Linux
where (nodename = TOP_Linux) (TOP_Linux.$hostname$) groupby _time, "TOP_Linux.hostname", "TOP_Linux.logical_cpus", "TOP_Linux.Command", "TOP_Linux.PID" prestats=true span=1m
| stats dedup_splitvals=t max("TOP_Linux.MinorFault") AS MinorFault by _time, "TOP_Linux.hostname", "TOP_Linux.logical_cpus", "TOP_Linux.Command", "TOP_Linux.PID"
| rename "TOP_Linux.hostname" AS hostname "TOP_Linux.logical_cpus" AS logical_cpus "TOP_Linux.Command" AS Command "TOP_Linux.PID" AS PID
| stats sum(MinorFault) As MinorFault by _time,Command
| timechart $span$ useother=f limit=0 max(MinorFault) as "MinorFault" by Command</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                    <!-- Progress event has access to job properties only -->
                    <progress>
                        <condition match="'job.resultCount' == 0">
                            <set token="show_null_top">True</set>
                        </condition>
                        <condition>
                            <unset token="show_null_top"/>
                        </condition>
                    </progress>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">area</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">stacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Pages/sec</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats max("TOP_Linux.MinorFault") AS MinorFault from datamodel=NMON_Data_TOP.TOP_Linux
    where (nodename = TOP_Linux) (TOP_Linux.$hostname$) groupby _time, "TOP_Linux.hostname", "TOP_Linux.logical_cpus", "TOP_Linux.Command", "TOP_Linux.PID" prestats=true span=1m
    | stats dedup_splitvals=t max("TOP_Linux.MinorFault") AS MinorFault by _time, "TOP_Linux.hostname", "TOP_Linux.logical_cpus", "TOP_Linux.Command", "TOP_Linux.PID"
    | rename "TOP_Linux.hostname" AS hostname "TOP_Linux.logical_cpus" AS logical_cpus "TOP_Linux.Command" AS Command "TOP_Linux.PID" AS PID
    | stats sum(MinorFault) As MinorFault by _time,Command
    | timechart span=1m useother=f limit=0 max(MinorFault) as "MinorFault" by Command</link>
                </drilldown>
            </chart>

            <chart depends="$top_chart5$" rejects="$show_null_top$">
                <title></title>
                <search>
                    <query>| tstats max("TOP_Linux.MajorFault") AS MajorFault from datamodel=NMON_Data_TOP.TOP_Linux
where (nodename = TOP_Linux) (TOP_Linux.$hostname$) groupby _time, "TOP_Linux.hostname", "TOP_Linux.logical_cpus", "TOP_Linux.Command", "TOP_Linux.PID" prestats=true span=1m
| stats dedup_splitvals=t max("TOP_Linux.MajorFault") AS MajorFault by _time, "TOP_Linux.hostname", "TOP_Linux.logical_cpus", "TOP_Linux.Command", "TOP_Linux.PID"
| rename "TOP_Linux.hostname" AS hostname "TOP_Linux.logical_cpus" AS logical_cpus "TOP_Linux.Command" AS Command "TOP_Linux.PID" AS PID
| stats sum(MajorFault) As MajorFault by _time,Command
| timechart $span$ useother=f limit=0 max(MajorFault) as "MajorFault" by Command</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                    <!-- Progress event has access to job properties only -->
                    <progress>
                        <condition match="'job.resultCount' == 0">
                            <set token="show_null_top">True</set>
                        </condition>
                        <condition>
                            <unset token="show_null_top"/>
                        </condition>
                    </progress>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">area</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">stacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Pages/sec</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats max("TOP_Linux.MajorFault") AS MajorFault from datamodel=NMON_Data_TOP.TOP_Linux
where (nodename = TOP_Linux) (TOP_Linux.$hostname$) groupby _time, "TOP_Linux.hostname", "TOP_Linux.logical_cpus", "TOP_Linux.Command", "TOP_Linux.PID" prestats=true span=1m
| stats dedup_splitvals=t max("TOP_Linux.MajorFault") AS MajorFault by _time, "TOP_Linux.hostname", "TOP_Linux.logical_cpus", "TOP_Linux.Command", "TOP_Linux.PID"
| rename "TOP_Linux.hostname" AS hostname "TOP_Linux.logical_cpus" AS logical_cpus "TOP_Linux.Command" AS Command "TOP_Linux.PID" AS PID
| stats sum(MajorFault) As MajorFault by _time,Command
| timechart span=1m useother=f limit=0 max(MajorFault) as "MajorFault" by Command</link>
                </drilldown>
            </chart>

            <chart depends="$top_chart6$" rejects="$show_null_top$">
                <title></title>
                <search>
                    <query>| tstats max("TOP_Linux.ShdLib") AS ShdLib from datamodel=NMON_Data_TOP.TOP_Linux
where (nodename = TOP_Linux) (TOP_Linux.$hostname$) groupby _time, "TOP_Linux.hostname", "TOP_Linux.logical_cpus", "TOP_Linux.Command", "TOP_Linux.PID" prestats=true span=1m
| stats dedup_splitvals=t max("TOP_Linux.ShdLib") AS ShdLib by _time, "TOP_Linux.hostname", "TOP_Linux.logical_cpus", "TOP_Linux.Command", "TOP_Linux.PID"
| rename "TOP_Linux.hostname" AS hostname "TOP_Linux.logical_cpus" AS logical_cpus "TOP_Linux.Command" AS Command "TOP_Linux.PID" AS PID
| stats sum(ShdLib) As ShdLib by _time,Command
| timechart $span$ useother=f limit=0 max(ShdLib) as "ShdLib" by Command</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                    <!-- Progress event has access to job properties only -->
                    <progress>
                        <condition match="'job.resultCount' == 0">
                            <set token="show_null_top">True</set>
                        </condition>
                        <condition>
                            <unset token="show_null_top"/>
                        </condition>
                    </progress>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">area</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">stacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Pages/sec</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats max("TOP_Linux.ShdLib") AS ShdLib from datamodel=NMON_Data_TOP.TOP_Linux
where (nodename = TOP_Linux) (TOP_Linux.$hostname$) groupby _time, "TOP_Linux.hostname", "TOP_Linux.logical_cpus", "TOP_Linux.Command", "TOP_Linux.PID" prestats=true span=1m
| stats dedup_splitvals=t max("TOP_Linux.ShdLib") AS ShdLib by _time, "TOP_Linux.hostname", "TOP_Linux.logical_cpus", "TOP_Linux.Command", "TOP_Linux.PID"
| rename "TOP_Linux.hostname" AS hostname "TOP_Linux.logical_cpus" AS logical_cpus "TOP_Linux.Command" AS Command "TOP_Linux.PID" AS PID
| stats sum(ShdLib) As ShdLib by _time,Command
| timechart span=1m useother=f limit=0 max(ShdLib) as "ShdLib" by Command</link>
                </drilldown>
            </chart>

            <html depends="$show_null_top$">
                <p style="color:blue;margin-left:30px;font-size:14px">Search returned no results, TOP collection (processes activity) has not been activated at nmon binary startup. (use the -t or -T option to activate the TOP collection)</p>
            </html>

        </panel>
    </row>

    <search id="PROC">
        <query>| tstats max("PROC.Runnable") AS Runnable max("PROC.Swap_in") AS Swap_in
max("PROC.pswitch") AS pswitch max("PROC.syscall") AS syscall
max("PROC.fork") AS fork max("PROC.exec") AS exec from datamodel=NMON_Data_PROC where (nodename = PROC)
(PROC.$hostname$) groupby _time, "PROC.hostname" prestats=true $span$
| timechart $span$ max("PROC.Runnable") AS Runnable max("PROC.Swap_in") AS Swap_in
max("PROC.pswitch") AS pswitch max("PROC.syscall") AS syscall
max("PROC.fork") AS fork max("PROC.exec") AS exec</query>
        <earliest>$timerange.earliest$</earliest>
        <latest>$timerange.latest$</latest>
    </search>

    <row>
        <panel>

            <input type="link" token="proc_linkinput">
                <label></label>
                <choice value="proc_chart1">PROC, Kernel Threads in run queue and to be paged (RunQueue, Swap-In)</choice>
                <choice value="proc_chart2">PROC, Context switches and system calls (pswitch, syscall)</choice>
                <choice value="proc_chart3">PROC, Fork and Exec system calls (fork, exec)</choice>
                <default>proc_chart1</default>
                <change>
                    <condition value="proc_chart1">
                        <set token="proc_chart1">true</set>
                        <unset token="proc_chart2"></unset>
                        <unset token="proc_chart3"></unset>
                    </condition>
                    <condition value="proc_chart2">
                        <set token="proc_chart2">true</set>
                        <unset token="proc_chart1"></unset>
                        <unset token="proc_chart3"></unset>
                    </condition>
                    <condition value="proc_chart3">
                        <set token="proc_chart3">true</set>
                        <unset token="proc_chart2"></unset>
                        <unset token="proc_chart1"></unset>
                    </condition>
                </change>
            </input>

            <chart depends="$proc_chart1$">
                <title></title>
                <search base="PROC">
                    <query>fields _time,Runnable,Swap_in</query>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Value</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats max("PROC.Runnable") AS Runnable max("PROC.Swap_in") AS Swap_in from datamodel=NMON_Data_PROC where (nodename = PROC)
(PROC.$hostname$) groupby _time, "PROC.hostname" prestats=true span=1m
| timechart span=1m max("PROC.Runnable") AS Runnable max("PROC.Swap_in") AS Swap_in</link>
                </drilldown>
            </chart>

            <chart depends="$proc_chart2$">
                <title></title>
                <search base="PROC">
                    <query>fields _time,pswitch,syscall</query>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">$chart.stackingmode$</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Rates per Second</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats max("PROC.pswitch") AS pswitch max("PROC.syscall") AS syscall from datamodel=NMON_Data_PROC where (nodename = PROC)
(PROC.$hostname$) groupby _time, "PROC.hostname" prestats=true span=1m
| timechart span=1m max("PROC.pswitch") AS pswitch max("PROC.syscall") AS syscall</link>
                </drilldown>
            </chart>

            <chart depends="$proc_chart3$">
                <title></title>
                <search base="PROC">
                    <query>fields _time,fork,exec</query>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Rates per Second</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats max("PROC.fork") AS fork max("PROC.exec") AS exec from datamodel=NMON_Data_PROC where (nodename = PROC)
(PROC.$hostname$) groupby _time, "PROC.hostname" prestats=true span=1m
| timechart span=1m max("PROC.fork") AS fork max("PROC.exec") AS exec</link>
                </drilldown>
            </chart>

        </panel>
    </row>

    <search id="VM">
        <query>| tstats `VM_Linux(max)` from datamodel=NMON_Data_VM where (nodename = Linux) (Linux.$hostname$)
groupby _time, "Linux.hostname" prestats=true $span$
| timechart $span$ `VM_Linux(max)` | rename Linux.* AS *</query>
        <earliest>$timerange.earliest$</earliest>
        <latest>$timerange.latest$</latest>
    </search>

    <row>
        <panel>

            <input type="link" token="vm_linkinput">
                <label></label>
                <choice value="vm_chart1">VM, Pages dirty, under writeback or unstable</choice>
                <choice value="vm_chart2">VM, Pages allocated to page tables, mapped by files or allocated by the kernel slab allocator</choice>
                <choice value="vm_chart3">VM, Pageins and pageouts (since last boot)</choice>
                <choice value="vm_chart4">VM, swapins and swapouts (since last boot)</choice>
                <choice value="vm_chart5">VM, Page allocations per zone (since last boot)</choice>
                <choice value="vm_chart6">VM, Page frees, activations and deactivations (since last boot)</choice>
                <choice value="vm_chart7">VM, Minor and major page faults (since last boot)</choice>
                <choice value="vm_chart8">VM, Page refills (per zone, since last boot)</choice>
                <choice value="vm_chart9">VM, Page steals (per zone, since last boot)</choice>
                <choice value="vm_chart10">VM, Pages scanned by kswapd daemon (per zone, since last boot)</choice>
                <choice value="vm_chart11">VM, Pages reclaimed directly (per zone, since last boot)</choice>
                <choice value="vm_chart12">VM, Miscellaneous statistics</choice>
                <default>vm_chart1</default>
                <change>
                    <condition value="vm_chart1">
                        <set token="vm_chart1">true</set>
                        <unset token="vm_chart2"></unset>
                        <unset token="vm_chart3"></unset>
                        <unset token="vm_chart4"></unset>
                        <unset token="vm_chart5"></unset>
                        <unset token="vm_chart6"></unset>
                        <unset token="vm_chart7"></unset>
                        <unset token="vm_chart8"></unset>
                        <unset token="vm_chart9"></unset>
                        <unset token="vm_chart10"></unset>
                        <unset token="vm_chart11"></unset>
                        <unset token="vm_chart12"></unset>
                    </condition>
                    <condition value="vm_chart2">
                        <set token="vm_chart2">true</set>
                        <unset token="vm_chart1"></unset>
                        <unset token="vm_chart3"></unset>
                        <unset token="vm_chart4"></unset>
                        <unset token="vm_chart5"></unset>
                        <unset token="vm_chart6"></unset>
                        <unset token="vm_chart7"></unset>
                        <unset token="vm_chart8"></unset>
                        <unset token="vm_chart9"></unset>
                        <unset token="vm_chart10"></unset>
                        <unset token="vm_chart11"></unset>
                        <unset token="vm_chart12"></unset>
                    </condition>
                    <condition value="vm_chart3">
                        <set token="vm_chart3">true</set>
                        <unset token="vm_chart2"></unset>
                        <unset token="vm_chart1"></unset>
                        <unset token="vm_chart4"></unset>
                        <unset token="vm_chart5"></unset>
                        <unset token="vm_chart6"></unset>
                        <unset token="vm_chart7"></unset>
                        <unset token="vm_chart8"></unset>
                        <unset token="vm_chart9"></unset>
                        <unset token="vm_chart10"></unset>
                        <unset token="vm_chart11"></unset>
                        <unset token="vm_chart12"></unset>
                    </condition>
                    <condition value="vm_chart4">
                        <set token="vm_chart4">true</set>
                        <unset token="vm_chart2"></unset>
                        <unset token="vm_chart3"></unset>
                        <unset token="vm_chart1"></unset>
                        <unset token="vm_chart5"></unset>
                        <unset token="vm_chart6"></unset>
                        <unset token="vm_chart7"></unset>
                        <unset token="vm_chart8"></unset>
                        <unset token="vm_chart9"></unset>
                        <unset token="vm_chart10"></unset>
                        <unset token="vm_chart11"></unset>
                        <unset token="vm_chart12"></unset>
                    </condition>
                    <condition value="vm_chart5">
                        <set token="vm_chart5">true</set>
                        <unset token="vm_chart2"></unset>
                        <unset token="vm_chart3"></unset>
                        <unset token="vm_chart4"></unset>
                        <unset token="vm_chart1"></unset>
                        <unset token="vm_chart6"></unset>
                        <unset token="vm_chart7"></unset>
                        <unset token="vm_chart8"></unset>
                        <unset token="vm_chart9"></unset>
                        <unset token="vm_chart10"></unset>
                        <unset token="vm_chart11"></unset>
                        <unset token="vm_chart12"></unset>
                    </condition>
                    <condition value="vm_chart6">
                        <set token="vm_chart6">true</set>
                        <unset token="vm_chart2"></unset>
                        <unset token="vm_chart3"></unset>
                        <unset token="vm_chart4"></unset>
                        <unset token="vm_chart5"></unset>
                        <unset token="vm_chart1"></unset>
                        <unset token="vm_chart7"></unset>
                        <unset token="vm_chart8"></unset>
                        <unset token="vm_chart9"></unset>
                        <unset token="vm_chart10"></unset>
                        <unset token="vm_chart11"></unset>
                        <unset token="vm_chart12"></unset>
                    </condition>
                    <condition value="vm_chart7">
                        <set token="vm_chart7">true</set>
                        <unset token="vm_chart2"></unset>
                        <unset token="vm_chart3"></unset>
                        <unset token="vm_chart4"></unset>
                        <unset token="vm_chart5"></unset>
                        <unset token="vm_chart6"></unset>
                        <unset token="vm_chart1"></unset>
                        <unset token="vm_chart8"></unset>
                        <unset token="vm_chart9"></unset>
                        <unset token="vm_chart10"></unset>
                        <unset token="vm_chart11"></unset>
                        <unset token="vm_chart12"></unset>
                    </condition>
                    <condition value="vm_chart8">
                        <set token="vm_chart8">true</set>
                        <unset token="vm_chart2"></unset>
                        <unset token="vm_chart3"></unset>
                        <unset token="vm_chart4"></unset>
                        <unset token="vm_chart5"></unset>
                        <unset token="vm_chart6"></unset>
                        <unset token="vm_chart7"></unset>
                        <unset token="vm_chart1"></unset>
                        <unset token="vm_chart9"></unset>
                        <unset token="vm_chart10"></unset>
                        <unset token="vm_chart11"></unset>
                        <unset token="vm_chart12"></unset>
                    </condition>
                    <condition value="vm_chart9">
                        <set token="vm_chart9">true</set>
                        <unset token="vm_chart2"></unset>
                        <unset token="vm_chart3"></unset>
                        <unset token="vm_chart4"></unset>
                        <unset token="vm_chart5"></unset>
                        <unset token="vm_chart6"></unset>
                        <unset token="vm_chart7"></unset>
                        <unset token="vm_chart8"></unset>
                        <unset token="vm_chart1"></unset>
                        <unset token="vm_chart10"></unset>
                        <unset token="vm_chart11"></unset>
                        <unset token="vm_chart12"></unset>
                    </condition>
                    <condition value="vm_chart10">
                        <set token="vm_chart10">true</set>
                        <unset token="vm_chart2"></unset>
                        <unset token="vm_chart3"></unset>
                        <unset token="vm_chart4"></unset>
                        <unset token="vm_chart5"></unset>
                        <unset token="vm_chart6"></unset>
                        <unset token="vm_chart7"></unset>
                        <unset token="vm_chart8"></unset>
                        <unset token="vm_chart9"></unset>
                        <unset token="vm_chart1"></unset>
                        <unset token="vm_chart11"></unset>
                        <unset token="vm_chart12"></unset>
                    </condition>
                    <condition value="vm_chart11">
                        <set token="vm_chart11">true</set>
                        <unset token="vm_chart2"></unset>
                        <unset token="vm_chart3"></unset>
                        <unset token="vm_chart4"></unset>
                        <unset token="vm_chart5"></unset>
                        <unset token="vm_chart6"></unset>
                        <unset token="vm_chart7"></unset>
                        <unset token="vm_chart8"></unset>
                        <unset token="vm_chart9"></unset>
                        <unset token="vm_chart10"></unset>
                        <unset token="vm_chart1"></unset>
                        <unset token="vm_chart12"></unset>
                    </condition>
                    <condition value="vm_chart12">
                        <set token="vm_chart12">true</set>
                        <unset token="vm_chart2"></unset>
                        <unset token="vm_chart3"></unset>
                        <unset token="vm_chart4"></unset>
                        <unset token="vm_chart5"></unset>
                        <unset token="vm_chart6"></unset>
                        <unset token="vm_chart7"></unset>
                        <unset token="vm_chart8"></unset>
                        <unset token="vm_chart9"></unset>
                        <unset token="vm_chart10"></unset>
                        <unset token="vm_chart11"></unset>
                        <unset token="vm_chart1"></unset>
                    </condition>
                </change>
            </input>
            
            <chart depends="$vm_chart1$">
                <title></title>
                <search base="VM">
                    <query>fields _time,*nr_dirty*,*nr_writeback*,*nr_unstable*</query>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Number of Pages</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `VM_Linux(max)` from datamodel=NMON_Data_VM where (nodename = Linux) (Linux.$hostname$)
groupby _time, "Linux.hostname" prestats=true span=1m
| timechart span=1m `VM_Linux(max)` | rename Linux.* AS *</link>
                </drilldown>
            </chart>

            <chart depends="$vm_chart2$">
                <title></title>
                <search base="VM">
                    <query>fields _time,*nr_page_table_pages*,*nr_mapped*,*nr_slab*</query>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Number of Pages</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `VM_Linux(max)` from datamodel=NMON_Data_VM where (nodename = Linux) (Linux.$hostname$)
groupby _time, "Linux.hostname" prestats=true span=1m
| timechart span=1m `VM_Linux(max)` | rename Linux.* AS *</link>
                </drilldown>
            </chart>

            <chart depends="$vm_chart3$">
                <title></title>
                <search base="VM">
                    <query>fields _time,*pgpgin*,*pgpgout*</query>
                </search>      <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Number of Pages</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `VM_Linux(max)` from datamodel=NMON_Data_VM where (nodename = Linux) (Linux.$hostname$)
groupby _time, "Linux.hostname" prestats=true span=1m
| timechart span=1m `VM_Linux(max)` | rename Linux.* AS *</link>
                </drilldown>
            </chart>

            <chart depends="$vm_chart4$">
                <title></title>
                <search base="VM">
                    <query>fields _time,*pswpin*,*pswpout*</query>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Number of Pages</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `VM_Linux(max)` from datamodel=NMON_Data_VM where (nodename = Linux) (Linux.$hostname$)
groupby _time, "Linux.hostname" prestats=true span=1m
| timechart span=1m `VM_Linux(max)` | rename Linux.* AS *</link>
                </drilldown>
            </chart>

            <chart depends="$vm_chart5$">
                <title></title>
                <search base="VM">
                    <query>fields _time,*pgalloc_high*,*pgalloc_normal*,*pgalloc_dma32*,*pgalloc_dma*</query>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Number of Pages</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `VM_Linux(max)` from datamodel=NMON_Data_VM where (nodename = Linux) (Linux.$hostname$)
groupby _time, "Linux.hostname" prestats=true span=1m
| timechart span=1m `VM_Linux(max)` | rename Linux.* AS *</link>
                </drilldown>
            </chart>

            <chart depends="$vm_chart6$">
                <title></title>
                <search base="VM">
                    <query>fields _time,*pgfree*,*pgactivate*,*pgdeactivate*</query>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Number of Pages</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `VM_Linux(max)` from datamodel=NMON_Data_VM where (nodename = Linux) (Linux.$hostname$)
groupby _time, "Linux.hostname" prestats=true span=1m
| timechart span=1m `VM_Linux(max)` | rename Linux.* AS *</link>
                </drilldown>
            </chart>

            <chart depends="$vm_chart7$">
                <title></title>
                <search base="VM">
                    <query>fields _time,*pgfault*,*pgmajfault*</query>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Number of Pages</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `VM_Linux(max)` from datamodel=NMON_Data_VM where (nodename = Linux) (Linux.$hostname$)
groupby _time, "Linux.hostname" prestats=true span=1m
| timechart span=1m `VM_Linux(max)` | rename Linux.* AS *</link>
                </drilldown>
            </chart>

            <chart depends="$vm_chart8$">
                <title></title>
                <search base="VM">
                    <query>fields _time,*pgrefill_high*,*pgrefill_normal*,*pgrefill_dma32*,*pgrefill_dma*</query>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Number of Pages</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `VM_Linux(max)` from datamodel=NMON_Data_VM where (nodename = Linux) (Linux.$hostname$)
groupby _time, "Linux.hostname" prestats=true span=1m
| timechart span=1m `VM_Linux(max)` | rename Linux.* AS *</link>
                </drilldown>
            </chart>

            <chart depends="$vm_chart9$">
                <title></title>
                <search base="VM">
                    <query>fields _time,*pgsteal_high*,*pgsteal_normal*,*pgsteal_dma32*,*pgsteal_dma*</query>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Number of Pages</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `VM_Linux(max)` from datamodel=NMON_Data_VM where (nodename = Linux) (Linux.$hostname$)
groupby _time, "Linux.hostname" prestats=true span=1m
| timechart span=1m `VM_Linux(max)` | rename Linux.* AS *</link>
                </drilldown>
            </chart>

            <chart depends="$vm_chart10$">
                <title></title>
                <search base="VM">
                    <query>fields _time,*pgscan_kswapd_high*,*pgscan_kswapd_normal*,*pgscan_kswapd_dma32*,*pgscan_kswapd_dma*</query>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Number of Pages</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `VM_Linux(max)` from datamodel=NMON_Data_VM where (nodename = Linux) (Linux.$hostname$)
groupby _time, "Linux.hostname" prestats=true span=1m
| timechart span=1m `VM_Linux(max)` | rename Linux.* AS *</link>
                </drilldown>
            </chart>

            <chart depends="$vm_chart11$">
                <title></title>
                <search base="VM">
                    <query>fields _time,*pgscan_direct_high*,*pgscan_direct_normal*,*pgscan_direct_dma32*,*pgscan_direct_dma*</query>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Number of Pages</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `VM_Linux(max)` from datamodel=NMON_Data_VM where (nodename = Linux) (Linux.$hostname$)
groupby _time, "Linux.hostname" prestats=true span=1m
| timechart span=1m `VM_Linux(max)` | rename Linux.* AS *</link>
                </drilldown>
            </chart>

            <chart depends="$vm_chart12$">
                <title></title>
                <search base="VM">
                    <query>fields _time,*pginodesteal*,*slabs_scanned*,*kswapd_steal*,*kswapd_inodesteal*,*pageoutrun*,*allocstall*,*pgrotated*,*nr_bounce*</query>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Number of Pages</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `VM_Linux(max)` from datamodel=NMON_Data_VM where (nodename = Linux) (Linux.$hostname$)
groupby _time, "Linux.hostname" prestats=true span=1m
| timechart span=1m `VM_Linux(max)` | rename Linux.* AS *</link>
                </drilldown>
            </chart>

        </panel>
    </row>



    <row>
        <html>
            <div style="text-align: center;">
                <img src="../../static/app/nmon/icons/grey_theme/memory.png" alt="Memory"/>
                <h1>MEMORY Usage Statistics</h1>
            </div>
        </html>
    </row>

    <search id="memory_stats">
        <query>| tstats `memory_linux_dm(max)` from datamodel=NMON_Data_MEM where (nodename = MEM.Linux) (MEM.$hostname$)
groupby _time MEM.hostname prestats=true span=1m
| stats dedup_splitvals=t `memory_linux_dm(max)` by _time, MEM.hostname
| timechart $span$ dedup_splitvals=t avg(*) AS *</query>
        <earliest>$timerange.earliest$</earliest>
        <latest>$timerange.latest$</latest>
    </search>

    <row>
        <panel>

            <input type="link" token="mem_linkinput">
                <label></label>
                <choice value="mem_chart1">MEM, Memory usage (MB) by main metrics</choice>
                <choice value="mem_chart2">MEM, Effective memory/swap used (%)</choice>
                <choice value="mem_chart3">MEM, Global memory/swap used (%)</choice>
                <choice value="mem_chart4">MEM, Swap effective used/cached/free/global (MB)</choice>
                <default>mem_chart1</default>
                <change>
                    <condition value="mem_chart1">
                        <set token="mem_chart1">true</set>
                        <unset token="mem_chart2"></unset>
                        <unset token="mem_chart3"></unset>
                        <unset token="mem_chart4"></unset>
                    </condition>
                    <condition value="mem_chart2">
                        <set token="mem_chart2">true</set>
                        <unset token="mem_chart1"></unset>
                        <unset token="mem_chart3"></unset>
                        <unset token="mem_chart4"></unset>
                    </condition>
                    <condition value="mem_chart3">
                        <set token="mem_chart3">true</set>
                        <unset token="mem_chart2"></unset>
                        <unset token="mem_chart1"></unset>
                        <unset token="mem_chart4"></unset>
                    </condition>
                    <condition value="mem_chart4">
                        <set token="mem_chart4">true</set>
                        <unset token="mem_chart2"></unset>
                        <unset token="mem_chart3"></unset>
                        <unset token="mem_chart1"></unset>
                    </condition>
                </change>
            </input>

            <chart depends="$mem_chart1$">
                <title></title>
                <search base="memory_stats">
                    <query>fields _time, *mem_free_MB*, *mem_cached_MB*, *mem_buffers_MB*, *mem_used_effective_MB*, *mem_total_MB*</query>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">area</option>
                <option name="charting.chart.nullValueMode">connect</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">stacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisTitleY.text">volume (MB)</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
                <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
                <option name="charting.axisTitleY2.visibility">visible</option>
                <option name="charting.axisY2.enabled">0</option>
                <option name="charting.axisY2.scale">inherit</option>
                <option name="charting.chart.bubbleMaximumSize">50</option>
                <option name="charting.chart.bubbleMinimumSize">10</option>
                <option name="charting.chart.bubbleSizeBy">area</option>
                <option name="charting.chart.overlayFields">mem_total_MB</option>
                <option name="charting.chart.showDataLabels">none</option>
                <option name="charting.layout.splitSeries.allowIndependentYRanges">0</option>
                <option name="charting.fieldColors">{"mem_total_MB": 0xe50000}</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `memory_linux_dm(max)` from datamodel=NMON_Data_MEM where (nodename = MEM.Linux) (MEM.$hostname$)
groupby _time MEM.hostname prestats=true span=1m
| stats dedup_splitvals=t `memory_linux_dm(max)` by _time, MEM.hostname
| timechart span=1m dedup_splitvals=t avg(*) AS *</link>
                </drilldown>
            </chart>

            <chart depends="$mem_chart2$">
                <title></title>
                <search base="memory_stats">
                    <query>fields _time, *mem_used_effective_PCT*, *swap_used_effective_PCT*</query>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">bottom</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisTitleY.text">percentage (%)</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisY.maximumNumber">100</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `memory_linux_dm(max)` from datamodel=NMON_Data_MEM where (nodename = MEM.Linux) (MEM.$hostname$)
groupby _time MEM.hostname prestats=true span=1m
| stats dedup_splitvals=t `memory_linux_dm(max)` by _time, MEM.hostname
| timechart span=1m dedup_splitvals=t avg(*) AS *</link>
                </drilldown>
            </chart>

            <chart depends="$mem_chart3$">
                <title></title>
                <search base="memory_stats">
                    <query>fields _time, *mem_used_PCT*, *swap_used_PCT*</query>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">bottom</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisTitleY.text">percentage (%)</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisY.maximumNumber">100</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `memory_linux_dm(max)` from datamodel=NMON_Data_MEM where (nodename = MEM.Linux) (MEM.$hostname$)
groupby _time MEM.hostname prestats=true span=1m
| stats dedup_splitvals=t `memory_linux_dm(max)` by _time, MEM.hostname
| timechart span=1m dedup_splitvals=t avg(*) AS *</link>
                </drilldown>
            </chart>

            <chart depends="$mem_chart4$">
                <title></title>
                <search base="memory_stats">
                    <query>fields _time, *swap_free_MB*, *swap_used_effective_MB*, *swap_cached_MB*, *swap_total_MB*</query>
                </search>
                <earliestTime>$timerange.earliest$</earliestTime>
                <latestTime>$timerange.latest$</latestTime>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">area</option>
                <option name="charting.chart.nullValueMode">connect</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">stacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisTitleY.text">volume (MB)</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
                <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
                <option name="charting.axisTitleY2.visibility">visible</option>
                <option name="charting.axisY2.enabled">0</option>
                <option name="charting.axisY2.scale">inherit</option>
                <option name="charting.chart.bubbleMaximumSize">50</option>
                <option name="charting.chart.bubbleMinimumSize">10</option>
                <option name="charting.chart.bubbleSizeBy">area</option>
                <option name="charting.chart.overlayFields">swap_total_MB</option>
                <option name="charting.chart.showDataLabels">none</option>
                <option name="charting.layout.splitSeries.allowIndependentYRanges">0</option>
                <option name="charting.fieldColors">{"swap_total_MB": 0xe50000}</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `memory_linux_dm(max)` from datamodel=NMON_Data_MEM where (nodename = MEM.Linux) (MEM.$hostname$)
groupby _time MEM.hostname prestats=true span=1m
| stats dedup_splitvals=t `memory_linux_dm(max)` by _time, MEM.hostname
| timechart span=1m dedup_splitvals=t avg(*) AS *</link>
                </drilldown>
            </chart>

        </panel>
    </row>


    <row>
        <html>
            <div style="text-align: center;">
                <img src="../../static/app/nmon/icons/grey_theme/drive.png" alt="Drive"/>
                <h1>DISKS and File-Systems Statistics</h1>
            </div>
        </html>
    </row>


    <row>
        <panel>

            <input type="link" token="disk_linkinput">
                <label></label>
                <choice value="disk_chart1">DISKBSIZE, Average data transfer size</choice>
                <choice value="disk_chart2">DISKBUSY, Disk Busy Activity</choice>
                <choice value="disk_chart3">DISKREAD, Disk Read Data Rate</choice>
                <choice value="disk_chart4">DISKWRITE, Disk Write Data Rate</choice>
                <choice value="disk_chart5">DISKXFER, Disk I/O Operations per second (IOPS)</choice>
                <default>disk_chart1</default>
                <change>
                    <condition value="disk_chart1">
                        <set token="disk_chart1">true</set>
                        <unset token="disk_chart2"></unset>
                        <unset token="disk_chart3"></unset>
                        <unset token="disk_chart4"></unset>
                        <unset token="disk_chart5"></unset>
                    </condition>
                    <condition value="disk_chart2">
                        <set token="disk_chart2">true</set>
                        <unset token="disk_chart1"></unset>
                        <unset token="disk_chart3"></unset>
                        <unset token="disk_chart4"></unset>
                        <unset token="disk_chart5"></unset>
                    </condition>
                    <condition value="disk_chart3">
                        <set token="disk_chart3">true</set>
                        <unset token="disk_chart1"></unset>
                        <unset token="disk_chart2"></unset>
                        <unset token="disk_chart4"></unset>
                        <unset token="disk_chart5"></unset>
                    </condition>
                    <condition value="disk_chart4">
                        <set token="disk_chart4">true</set>
                        <unset token="disk_chart1"></unset>
                        <unset token="disk_chart2"></unset>
                        <unset token="disk_chart3"></unset>
                        <unset token="disk_chart5"></unset>
                    </condition>
                    <condition value="disk_chart5">
                        <set token="disk_chart5">true</set>
                        <unset token="disk_chart1"></unset>
                        <unset token="disk_chart2"></unset>
                        <unset token="disk_chart3"></unset>
                        <unset token="disk_chart4"></unset>
                    </condition>
                </change>
            </input>

            <chart depends="$disk_chart1$">
                <title></title>
                <search>
                    <query>| tstats max("DISKBSIZE.value") AS DISKBSIZE.value from datamodel=NMON_Data_DISKBSIZE
where (nodename = DISKBSIZE) (DISKBSIZE.$hostname$) groupby _time, "DISKBSIZE.hostname", "DISKBSIZE.device" prestats=true span=1m
| bucket _time span=1m
| stats dedup_splitvals=t max("DISKBSIZE.value") AS DISKBSIZE.value by _time, "DISKBSIZE.hostname", "DISKBSIZE.device"
| rename DISKBSIZE.hostname AS hostname, DISKBSIZE.device AS device, DISKBSIZE.value AS value
| stats sum(value) As avg_transfer_size by _time,hostname
| timechart $span$ max(avg_transfer_size) AS avg_transfer_size</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">KBytes per Transfer</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats max("DISKBSIZE.value") AS DISKBSIZE.value from datamodel=NMON_Data_DISKBSIZE
where (nodename = DISKBSIZE) (DISKBSIZE.$hostname$) groupby _time, "DISKBSIZE.hostname", "DISKBSIZE.device" prestats=true span=1m
| bucket _time span=1m
| stats dedup_splitvals=t max("DISKBSIZE.value") AS DISKBSIZE.value by _time, "DISKBSIZE.hostname", "DISKBSIZE.device"
| rename DISKBSIZE.hostname AS hostname, DISKBSIZE.device AS device, DISKBSIZE.value AS value
| stats sum(value) As avg_transfer_size by _time,hostname
| timechart span=1m max(avg_transfer_size) AS avg_transfer_size</link>
                </drilldown>
            </chart>

            <chart depends="$disk_chart2$">
                <title></title>
                <search>
                    <query>| tstats max("DISKBUSY.value") AS value from datamodel=NMON_Data_DISKBUSY
where (nodename = DISKBUSY) (DISKBUSY.$hostname$) groupby _time, "DISKBUSY.hostname", "DISKBUSY.device" prestats=true span=1m
| stats dedup_splitvals=t max("DISKBUSY.value") AS value by _time, "DISKBUSY.hostname", "DISKBUSY.device"
| rename DISKBUSY.hostname AS hostname, DISKBUSY.device AS device, DISKBUSY.value AS value
| stats avg(value) As value by _time,hostname
| timechart $span$ max(value) AS avg_busy_disk</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">% of Time Busy</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats max("DISKBUSY.value") AS value from datamodel=NMON_Data_DISKBUSY
where (nodename = DISKBUSY) (DISKBUSY.$hostname$) groupby _time, "DISKBUSY.hostname", "DISKBUSY.device" prestats=true span=1m
| stats dedup_splitvals=t max("DISKBUSY.value") AS value by _time, "DISKBUSY.hostname", "DISKBUSY.device"
| rename DISKBUSY.hostname AS hostname, DISKBUSY.device AS device, DISKBUSY.value AS value
| stats avg(value) As value by _time,hostname
| timechart span=1m max(value) AS avg_busy_disk</link>
                </drilldown>
            </chart>

            <chart depends="$disk_chart3$">
                <title></title>
                <search id="timechart_read">
                    <query>| tstats max("DISKREADWRITE.value") AS value from datamodel=NMON_Data_DISKREADWRITE
where (nodename = DISKREADWRITE) (DISKREADWRITE.type=DISKREAD) (DISKREADWRITE.$hostname$)
groupby _time, "DISKREADWRITE.hostname", "DISKREADWRITE.device" prestats=true span=1m
| stats dedup_splitvals=t max("DISKREADWRITE.value") AS value by _time, "DISKREADWRITE.hostname", "DISKREADWRITE.device"
| rename DISKREADWRITE.hostname AS hostname, DISKREADWRITE.device AS device, DISKREADWRITE.value AS value
| stats sum(value) As value by _time,hostname,device
| timechart $span$ max(value) AS disk_read</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">KBytes/Sec</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats max("DISKREADWRITE.value") AS value from datamodel=NMON_Data_DISKREADWRITE
where (nodename = DISKREADWRITE) (DISKREADWRITE.type=DISKREAD) (DISKREADWRITE.$hostname$)
groupby _time, "DISKREADWRITE.hostname", "DISKREADWRITE.device" prestats=true span=1m
| stats dedup_splitvals=t max("DISKREADWRITE.value") AS value by _time, "DISKREADWRITE.hostname", "DISKREADWRITE.device"
| rename DISKREADWRITE.hostname AS hostname, DISKREADWRITE.device AS device, DISKREADWRITE.value AS value
| stats sum(value) As value by _time,hostname,device
| timechart $span$ max(value) AS disk_read</link>
                </drilldown>
            </chart>

            <chart depends="$disk_chart4$">
                <title></title>
                <search id="timechart_write">
                    <query>| tstats max("DISKREADWRITE.value") AS value from datamodel=NMON_Data_DISKREADWRITE
where (nodename = DISKREADWRITE) (DISKREADWRITE.type=DISKWRITE) (DISKREADWRITE.$hostname$)
groupby _time, "DISKREADWRITE.hostname", "DISKREADWRITE.device" prestats=true span=1m
| stats dedup_splitvals=t max("DISKREADWRITE.value") AS value by _time, "DISKREADWRITE.hostname", "DISKREADWRITE.device"
| rename DISKREADWRITE.hostname AS hostname, DISKREADWRITE.device AS device, DISKREADWRITE.value AS value
| stats sum(value) As value by _time,hostname
| timechart $span$ max(value) AS disk_write</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">KBytes/Sec</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats max("DISKREADWRITE.value") AS value from datamodel=NMON_Data_DISKREADWRITE
where (nodename = DISKREADWRITE) (DISKREADWRITE.type=DISKWRITE) (DISKREADWRITE.$hostname$)
groupby _time, "DISKREADWRITE.hostname", "DISKREADWRITE.device" prestats=true span=1m
| stats dedup_splitvals=t max("DISKREADWRITE.value") AS value by _time, "DISKREADWRITE.hostname", "DISKREADWRITE.device"
| rename DISKREADWRITE.hostname AS hostname, DISKREADWRITE.device AS device, DISKREADWRITE.value AS value
| stats sum(value) As value by _time,hostname
| timechart span=1m max(value) AS disk_write</link>
                </drilldown>
            </chart>

            <chart depends="$disk_chart5$">
                <title></title>
                <search>
                    <query>| tstats max("DISKXFER.value") AS value from datamodel=NMON_Data_DISKXFER
where (nodename = DISKXFER) (DISKXFER.$hostname$) groupby _time, "DISKXFER.hostname", "DISKXFER.device" prestats=true span=1m
| stats dedup_splitvals=t max("DISKXFER.value") AS value by _time, "DISKXFER.hostname", "DISKXFER.device"
| rename DISKXFER.hostname AS hostname, DISKXFER.device AS device, DISKXFER.value AS value
| stats sum(value) As value by _time
| timechart $span$ max(value) AS IOPS</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">I/O per Sec</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats max("DISKXFER.value") AS value from datamodel=NMON_Data_DISKXFER
where (nodename = DISKXFER) (DISKXFER.$hostname$) groupby _time, "DISKXFER.hostname", "DISKXFER.device" prestats=true span=1m
| stats dedup_splitvals=t max("DISKXFER.value") AS value by _time, "DISKXFER.hostname", "DISKXFER.device"
| rename DISKXFER.hostname AS hostname, DISKXFER.device AS device, DISKXFER.value AS value
| stats sum(value) As value by _time
| timechart span=1m max(value) AS IOPS</link>
                </drilldown>
            </chart>

        </panel>
    </row>

    <row>
        <panel>

            <input type="link" token="jfs_linkinput">
                <label></label>
                <choice value="jfsfile_summary">JFSFILE, % file systems used (summary)</choice>
                <choice value="jfsfile_overtime">JFSFILE, % file systems used (over time)</choice>
                <default>jfsfile_summary</default>
                <change>
                    <condition value="jfsfile_summary">
                        <set token="show_jfsfile_summary">true</set>
                        <unset token="show_jfsfile_overtime"></unset>
                    </condition>
                    <condition value="jfsfile_overtime">
                        <set token="show_jfsfile_overtime">true</set>
                        <unset token="show_jfsfile_summary"></unset>
                    </condition>
                </change>
            </input>

            <table depends="$show_jfsfile_summary$" id="tablebar">
                <title></title>
                <search>
                    <query>| tstats max("JFS.value") AS JFS.value from datamodel=NMON_Data_JFS
where (nodename = JFS.JFSFILE) (JFS.value&gt;=0) (JFS.$hostname$) groupby _time, "JFS.hostname", "JFS.device" prestats=true
| stats dedup_splitvals=t max("JFS.value") AS JFS.value by _time, "JFS.device"
| rename "JFS.hostname" AS hostname, "JFS.device" AS device, "JFS.value" AS value
| stats max(value) AS max_value, avg(value) AS avg_value, min(value) AS min_value, latest(value) AS UsedPct by "device"
| sort limit=0 device | rename device AS "Mount point"
| eval value=round(value,2)
| fields "Mount point",max_value, avg_value, min_value, UsedPct | eval avg_value=round(avg_value,2)
| rename max_value AS "Max value in period (%)", avg_value AS "Average value in period (%)", min_value AS "Min value in Period (%)"</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                </search>
                <option name="wrap">true</option>
                <option name="rowNumbers">false</option>
                <option name="dataOverlayMode">none</option>
                <option name="drilldown">cell</option>
                <option name="count">20</option>
            </table>

            <input type="text" token="fsfilter" depends="$show_jfsfile_overtime$" searchWhenChanged="true">
                <label>Filter FileSystems by pattern:</label>
                <default>*</default>
                <prefix>JFS.device="</prefix>
                <suffix>"</suffix>
            </input>

            <chart depends="$show_jfsfile_overtime$">
                <title></title>
                <search>
                    <query>| tstats max("JFS.value") AS value from datamodel=NMON_Data_JFS
where (nodename = JFS.JFSFILE) (JFS.$hostname$) ($fsfilter$) groupby _time, "JFS.device" prestats=true $span$
| timechart $span$ limit=0 useother=f max("JFS.value") AS value by "JFS.device"</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisTitleY.text">Percentage (%)</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisY.maximumNumber">100</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats max("JFS.value") AS value from datamodel=NMON_Data_JFS
where (nodename = JFS.JFSFILE) (JFS.$hostname$) groupby _time, "JFS.device" prestats=true span=1m
| timechart span=1m limit=0 useother=f max("JFS.value") AS value by "JFS.device"</link>
                </drilldown>
            </chart>

        </panel>
    </row>


    <row>
        <html>
            <div style="text-align: center;">
                <img src="../../static/app/nmon/icons/grey_theme/network.png" alt="Network"/>
                <h1>NETWORK Usage Statistics</h1>
            </div>
        </html>
    </row>


    <row>
        <panel>

            <input type="link" token="net_linkinput">
                <label></label>
                <choice value="net">NET - Network Interfaces In/Out traffic</choice>
                <choice value="netpacket">NETPACKET - Number of read/write packets</choice>
                <default>net</default>
                <change>
                    <condition value="net">
                        <set token="show_net">true</set>
                        <unset token="show_nepacket"></unset>
                    </condition>
                    <condition value="netpacket">
                        <set token="show_netpacket">true</set>
                        <unset token="show_net"></unset>
                    </condition>
                </change>
            </input>

            <chart depends="$show_net$">
                <title></title>
                <search>
                    <query>| tstats max("NET_Data_types.NET.value_MBps") AS value from datamodel=NMON_Data_NET
where (nodename = NET_Data_types.NET) (NET_Data_types.$hostname$)
groupby _time, "NET_Data_types.device" prestats=true $span$
| rex mode=sed field="NET_Data_types.device" "s/KB/MB/"
| timechart $span$ limit=0 useother=f max("NET_Data_types.NET.value_MBps") AS value by "NET_Data_types.device"</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">MBps</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats max("NET_Data_types.NET.value_MBps") AS value from datamodel=NMON_Data_NET
where (nodename = NET_Data_types.NET) (NET_Data_types.$hostname$)
groupby _time, "NET_Data_types.device" prestats=true span=1m
| rex mode=sed field="NET_Data_types.device" "s/KB/MB/"
| timechart span=1m limit=0 useother=f max("NET_Data_types.NET.value_MBps") AS value by "NET_Data_types.device"</link>
                </drilldown>
            </chart>

            <chart depends="$show_netpacket$">
                <title></title>
                <search>
                    <query>| tstats max("NET_Data_types.value") AS value from datamodel=NMON_Data_NET
where (nodename = NET_Data_types.NETPACKET) (NET_Data_types.$hostname$) groupby _time, "NET_Data_types.device" prestats=true $span$
| timechart $span$ limit=0 useother=f max("NET_Data_types.value") AS value by "NET_Data_types.device"</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Number of Network Packets</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats max("NET_Data_types.value") AS value from datamodel=NMON_Data_NET
where (nodename = NET_Data_types.NETPACKET) (NET_Data_types.$hostname$) groupby _time, "NET_Data_types.device" prestats=true span=1m
| timechart span=1m limit=0 useother=f max("NET_Data_types.value") AS value by "NET_Data_types.device"</link>
                </drilldown>
            </chart>

        </panel>
    </row>

    <row>
        <panel>

            <input type="link" token="nfsserver_linkinput">
                <label></label>
                <choice value="nfsserverv4">NFS Server V4</choice>
                <choice value="nfsserverv3">NFS Server V3</choice>
                <choice value="nfsserverv2">NFS Server V2</choice>
                <default>nfsserverv4</default>
                <change>
                    <condition value="nfsserverv4">
                        <set token="show_nfsserverv4">true</set>
                        <unset token="show_nfsserverv2"></unset>
                        <unset token="show_nfsserverv3"></unset>
                    </condition>
                    <condition value="nfsserverv3">
                        <set token="show_nfsserverv3">true</set>
                        <unset token="show_nfsserverv2"></unset>
                        <unset token="show_nfsserverv4"></unset>
                    </condition>
                    <condition value="nfsserverv2">
                        <set token="show_nfsserverv2">true</set>
                        <unset token="show_nfsserverv3"></unset>
                        <unset token="show_nfsserverv4"></unset>
                    </condition>
                </change>
            </input>

            <chart depends="$show_nfsserverv4$" rejects="$show_null_nfsserverv4$">
                <title>NFS Server V4</title>
                <search>
                    <query>| tstats `NFSSVRV4(max)` from datamodel=NMON_Data_NFS
where (nodename = NFS.NFS_SERVER.NFS_V4) (NFS.$hostname$) groupby _time prestats=true $span$
| stats dedup_splitvals=t `NFSSVRV4(max)` by _time
| sort limit=0 _time
| rename max(*) As * | rename NFS.* AS * | untable _time monitor value | stats sum(*) AS * by _time,monitor | where value>0
| timechart useother=f limit=0 $span$ max(value) AS value by monitor</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                    <!-- Progress event has access to job properties only -->
                    <progress>
                        <condition match="'job.resultCount' == 0">
                            <set token="show_null_nfsserverv4">True</set>
                        </condition>
                        <condition>
                            <unset token="show_null_nfsserverv4"/>
                        </condition>
                    </progress>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Nbr of Operations</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `NFSSVRV4(max)` from datamodel=NMON_Data_NFS
where (nodename = NFS.NFS_SERVER.NFS_V4) (NFS.$hostname$) groupby _time prestats=true span=1m
| stats dedup_splitvals=t `NFSSVRV4(max)` by _time
| sort limit=0 _time
| rename max(*) As * | rename NFS.* AS * | untable _time monitor value | stats sum(*) AS * by _time,monitor | where value>0
| timechart useother=f limit=0 span=1m max(value) AS value by monitor</link>
                </drilldown>
            </chart>

            <chart depends="$show_nfsserverv3$" rejects="$show_null_nfsserverv3$">
                <title>NFS Server V3</title>
                <search>
                    <query>| tstats `NFSSVRV3(max)` from datamodel=NMON_Data_NFS
where (nodename = NFS.NFS_SERVER.NFS_V3) (NFS.$hostname$) groupby _time prestats=true $span$
| stats dedup_splitvals=t `NFSSVRV3(max)` by _time
| sort limit=0 _time
| rename max(*) As * | rename NFS.* AS * | untable _time monitor value | stats sum(*) AS * by _time,monitor | where value>0
| timechart useother=f limit=0 $span$ max(value) AS value by monitor</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                    <!-- Progress event has access to job properties only -->
                    <progress>
                        <condition match="'job.resultCount' == 0">
                            <set token="show_null_nfsserverv3">True</set>
                        </condition>
                        <condition>
                            <unset token="show_null_nfsserverv3"/>
                        </condition>
                    </progress>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Nbr of Operations</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `NFSSVRV3(max)` from datamodel=NMON_Data_NFS
where (nodename = NFS.NFS_SERVER.NFS_V3) (NFS.$hostname$) groupby _time prestats=true span=1m
| stats dedup_splitvals=t `NFSSVRV3(max)` by _time
| sort limit=0 _time
| rename max(*) As * | rename NFS.* AS * | untable _time monitor value | stats sum(*) AS * by _time,monitor | where value>0
| timechart useother=f limit=0 span=1m max(value) AS value by monitor</link>
                </drilldown>
            </chart>

            <chart depends="$show_nfsserverv2$" rejects="$show_null_nfsserverv2$">
                <title>NFS Server V2</title>
                <search>
                    <query>| tstats `NFSSVRV2(max)` from datamodel=NMON_Data_NFS
where (nodename = NFS.NFS_SERVER.NFS_V2) (NFS.$hostname$) groupby _time prestats=true $span$
| stats dedup_splitvals=t `NFSSVRV2(max)` by _time
| sort limit=0 _time
| rename max(*) As * | rename NFS.* AS * | untable _time monitor value | stats sum(*) AS * by _time,monitor | where value>0
| timechart useother=f limit=0 $span$ max(value) AS value by monitor</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                    <!-- Progress event has access to job properties only -->
                    <progress>
                        <condition match="'job.resultCount' == 0">
                            <set token="show_null_nfsserverv2">True</set>
                        </condition>
                        <condition>
                            <unset token="show_null_nfsserverv2"/>
                        </condition>
                    </progress>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Nbr of Operations</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `NFSSVRV2(max)` from datamodel=NMON_Data_NFS
where (nodename = NFS.NFS_SERVER.NFS_V2) (NFS.$hostname$) groupby _time prestats=true span=1m
| stats dedup_splitvals=t `NFSSVRV2(max)` by _time
| sort limit=0 _time
| rename max(*) As * | rename NFS.* AS * | untable _time monitor value | stats sum(*) AS * by _time,monitor | where value>0
| timechart useother=f limit=0 span=1m max(value) AS value by monitor</link>
                </drilldown>
            </chart>

            <html depends="$show_null_nfsserverv4$">
                <p style="color:blue;margin-left:30px;font-size:14px">Search returned no results, NFS collection is not activated or the server is not running any V4 NFS server.</p>
            </html>

            <html depends="$show_null_nfsserverv3$">
                <p style="color:blue;margin-left:30px;font-size:14px">Search returned no results, NFS collection is not activated or the server is not running any V3 NFS server.</p>
            </html>

            <html depends="$show_null_nfsserverv2$">
                <p style="color:blue;margin-left:30px;font-size:14px">Search returned no results, NFS collection is not activated or the server is not running any V2 NFS server.</p>
            </html>

        </panel>
    </row>

    <row>
        <panel>

            <input type="link" token="nfsclient_linkinput">
                <label></label>
                <choice value="nfsclientv4">NFS Client V4</choice>
                <choice value="nfsclientv3">NFS Client V3</choice>
                <choice value="nfsclientv2">NFS Client V2</choice>
                <default>nfsclientv4</default>
                <change>
                    <condition value="nfsclientv4">
                        <set token="show_nfsclientv4">true</set>
                        <unset token="show_nfsclientv2"></unset>
                        <unset token="show_nfsclientv3"></unset>
                    </condition>
                    <condition value="nfsclientv3">
                        <set token="show_nfsclientv3">true</set>
                        <unset token="show_nfsclientv2"></unset>
                        <unset token="show_nfsclientv4"></unset>
                    </condition>
                    <condition value="nfsclientv2">
                        <set token="show_nfsclientv2">true</set>
                        <unset token="show_nfsclientv3"></unset>
                        <unset token="show_nfsclientv4"></unset>
                    </condition>
                </change>
            </input>

            <chart depends="$show_nfsclientv4$" rejects="$show_null_nfsclientv4$">
                <title>NFS Client V4</title>
                <search>
                    <query>| tstats `NFSCLIV4(max)` from datamodel=NMON_Data_NFS
where (nodename = NFS.NFS_CLIENT.NFSCLIV4) (NFS.$hostname$) groupby _time prestats=true $span$
| stats dedup_splitvals=t `NFSCLIV4(max)` by _time
| sort limit=0 _time
| rename max(*) As * | rename NFS.* AS * | untable _time monitor value | stats sum(*) AS * by _time,monitor | where value>0
| timechart useother=f limit=0 $span$ max(value) AS value by monitor</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                    <!-- Progress event has access to job properties only -->
                    <progress>
                        <condition match="'job.resultCount' == 0">
                            <set token="show_null_nfsclientv4">True</set>
                        </condition>
                        <condition>
                            <unset token="show_null_nfsclientv4"/>
                        </condition>
                    </progress>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Nbr of Operations</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `NFSCLIV4(max)` from datamodel=NMON_Data_NFS
where (nodename = NFS.NFS_CLIENT.NFSCLIV4) (NFS.$hostname$) groupby _time prestats=true span=1m
| stats dedup_splitvals=t `NFSCLIV4(max)` by _time
| sort limit=0 _time
| rename max(*) As * | rename NFS.* AS * | untable _time monitor value | stats sum(*) AS * by _time,monitor | where value>0
| timechart useother=f limit=0 span=1m max(value) AS value by monitor</link>
                </drilldown>
            </chart>

            <chart depends="$show_nfsclientv3$" rejects="$show_null_nfsclientv3$">
                <title>NFS Client V3</title>
                <search>
                    <query>| tstats `NFSCLIV3(max)` from datamodel=NMON_Data_NFS
where (nodename = NFS.NFS_CLIENT.NFSCLIV3) (NFS.$hostname$) groupby _time prestats=true $span$
| stats dedup_splitvals=t `NFSCLIV3(max)` by _time
| sort limit=0 _time
| rename max(*) As * | rename NFS.* AS * | untable _time monitor value | stats sum(*) AS * by _time,monitor | where value>0
| timechart useother=f limit=0 $span$ max(value) AS value by monitor</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                    <!-- Progress event has access to job properties only -->
                    <progress>
                        <condition match="'job.resultCount' == 0">
                            <set token="show_null_nfsclientv3">True</set>
                        </condition>
                        <condition>
                            <unset token="show_null_nfsclientv3"/>
                        </condition>
                    </progress>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Nbr of Operations</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `NFSCLIV3(max)` from datamodel=NMON_Data_NFS
where (nodename = NFS.NFS_CLIENT.NFSCLIV3) (NFS.$hostname$) groupby _time prestats=true span=1m
| stats dedup_splitvals=t `NFSCLIV3(max)` by _time
| sort limit=0 _time
| rename max(*) As * | rename NFS.* AS * | untable _time monitor value | stats sum(*) AS * by _time,monitor | where value>0
| timechart useother=f limit=0 span=1m max(value) AS value by monitor</link>
                </drilldown>
            </chart>

            <chart depends="$show_nfsclientv2$" rejects="$show_null_nfsclientv2$">
                <title>NFS Client V2</title>
                <search>
                    <query>| tstats `NFSCLIV2(max)` from datamodel=NMON_Data_NFS
where (nodename = NFS.NFS_CLIENT.NFSCLIV2) (NFS.$hostname$) groupby _time prestats=true $span$
| stats dedup_splitvals=t `NFSCLIV2(max)` by _time
| sort limit=0 _time
| rename max(*) As * | rename NFS.* AS * | untable _time monitor value | stats sum(*) AS * by _time,monitor | where value>0
| timechart useother=f limit=0 $span$ max(value) AS value by monitor</query>
                    <earliest>$timerange.earliest$</earliest>
                    <latest>$timerange.latest$</latest>
                    <!-- Progress event has access to job properties only -->
                    <progress>
                        <condition match="'job.resultCount' == 0">
                            <set token="show_null_nfsclientv2">True</set>
                        </condition>
                        <condition>
                            <unset token="show_null_nfsclientv2"/>
                        </condition>
                    </progress>
                </search>
                <option name="charting.axisTitleX.visibility">visible</option>
                <option name="charting.axisTitleY.visibility">visible</option>
                <option name="charting.axisX.scale">linear</option>
                <option name="charting.axisY.scale">linear</option>
                <option name="charting.chart">line</option>
                <option name="charting.chart.nullValueMode">gaps</option>
                <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
                <option name="charting.chart.stackMode">unstacked</option>
                <option name="charting.chart.style">shiny</option>
                <option name="charting.drilldown">all</option>
                <option name="charting.layout.splitSeries">0</option>
                <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
                <option name="charting.legend.placement">bottom</option>
                <option name="height">680px</option>
                <option name="charting.axisTitleX.text">Time</option>
                <option name="charting.axisY.minimumNumber">0</option>
                <option name="charting.axisTitleY.text">Nbr of Operations</option>
                <drilldown target="search">
                    <link>search?earliest=$earliest$&amp;latest=$latest$&amp;q=| tstats `NFSCLIV2(max)` from datamodel=NMON_Data_NFS
where (nodename = NFS.NFS_CLIENT.NFSCLIV2) (NFS.$hostname$) groupby _time prestats=true span=1m
| stats dedup_splitvals=t `NFSCLIV2(max)` by _time
| sort limit=0 _time
| rename max(*) As * | rename NFS.* AS * | untable _time monitor value | stats sum(*) AS * by _time,monitor | where value>0
| timechart useother=f limit=0 span=1m max(value) AS value by monitor</link>
                </drilldown>
            </chart>

            <html depends="$show_null_nfsclientv4$">
                <p style="color:blue;margin-left:30px;font-size:14px">Search returned no results, NFS collection is not activated or the server is not running any V4 NFS client.</p>
            </html>

            <html depends="$show_null_nfsclientv3$">
                <p style="color:blue;margin-left:30px;font-size:14px">Search returned no results, NFS collection is not activated or the server is not running any V3 NFS client.</p>
            </html>

            <html depends="$show_null_nfsclientv2$">
                <p style="color:blue;margin-left:30px;font-size:14px">Search returned no results, NFS collection is not activated or the server is not running any V2 NFS client.</p>
            </html>

        </panel>
    </row>

</form>